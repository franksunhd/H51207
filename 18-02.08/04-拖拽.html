<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 300px;
				height: 300px;
				background-color: lightpink;
				transition: 1s;
			}

			#show {
				position: fixed;
				bottom: 0;
				left: 0;
				right: 0;
				text-align: center;
				font-size: 50px;
			}
		</style>
	</head>
	<body>
		<div id="box"></div>
		<p id="show">信息</p>

		<script src="touch.js"></script>
		<script type="text/javascript">
			show.innerText = "抓取并拖拽目标元素";
			touch.on('#box', 'touchstart', function(ev) {
				ev.preventDefault();
			});
			var target = document.getElementById("box");
			var dx, dy;
			// 拖拽手势
			touch.on('#box', 'drag', function(ev) {
				dx = dx || 0;
				dy = dy || 0;
				var offx = dx + ev.x + "px";
				var offy = dy + ev.y + "px";
				this.style.webkitTransform = "translate3d(" + offx + "," + offy + ",0)";
			});
			touch.on('#box', 'dragend', function(ev) {
				dx += ev.x;
				dy += ev.y;
				show.innerText = "当前x值为:" + dx + ", 当前y值为:" + dy + ".";
			});
		</script>
	</body>
</html>
