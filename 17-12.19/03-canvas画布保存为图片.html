<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>canvas 画布保存为图片</title>
  </head>
  <body>
    <canvas id="canvas" width="300" height="300">您的浏览器不支持canvas</canvas>
    <script type="text/javascript">
      var canvas = document.getElementById("canvas");
      // 获得画布
      var ctx = canvas.getContext("2d");

      ctx.fillStyle = "red";
      ctx.fillRect(10,10,100,100);

      // 将画布导出为图片
      var img1 = canvas.toDataURL('image/png',1);
      // base64 编码格式的图片
      console.log(img1);

      var str = new Image();
      str.src = img1;
      document.body.appendChild(str);

      /*
        base64 格式的图片的优缺点
        优点:将图片转换为字符串，不用发送http请求，减少去请求的数量，减轻服务器端的压力
        缺点:转换之后体积会变大
        应用场景: 图片体积很小的时候可以使用
      */
    </script>
  </body>
</html>
